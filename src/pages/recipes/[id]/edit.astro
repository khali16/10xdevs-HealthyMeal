---
import Layout from '@/layouts/Layout.astro'
import RecipeEditPage from '@/components/recipe-edit/RecipeEditPage'

const { id } = Astro.params
const { user } = Astro.locals
if (!user) {
  const returnTo = `${Astro.url.pathname}${Astro.url.search}`
  return Astro.redirect(`/auth/login?returnTo=${encodeURIComponent(returnTo)}`)
}
---

<Layout title="Edycja przepisu">
  <main class="min-h-screen bg-background text-foreground">
    <RecipeEditPage recipeId={id ?? ''} client:load />
  </main>
</Layout>
