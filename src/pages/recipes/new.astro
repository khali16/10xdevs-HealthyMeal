---
import Layout from '@/layouts/Layout.astro'
import RecipeCreateWizardPage from '@/components/recipe-create/RecipeCreateWizardPage'

const { user } = Astro.locals
if (!user) {
  const returnTo = `${Astro.url.pathname}${Astro.url.search}`
  return Astro.redirect(`/auth/login?returnTo=${encodeURIComponent(returnTo)}`)
}
---

<Layout title="Nowy przepis">
  <main class="min-h-screen bg-background text-foreground">
    <RecipeCreateWizardPage client:load />
  </main>
</Layout>
